<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title> <%= yield(:title) %> </title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
	<div id="sidebar-wrapper">
		<div class="display-block" id="logo">
			<%= link_to root_path do%>
				<%= image_tag "logo.svg" %>
			<% end %>
		</div>
		<ul class="sidebar-nav">
			<li class="sidebar-brand">Website</li>
			<li><%= link_to "Blog", root_path %></li>
			<li><%= link_to "New Post", new_article_path %></li>
			<li><%= link_to "About", about_path %></li>
			<li class="sidebar-brand">Social</li>
			<li><a href="https://twitter.com/rupace10" target="_blank">Twitter</a></li>
			<li><a href= '#' >Instagram</a></li>
			<li><a href="https://github.com/rupace10" target="_blank">Github</a></li>
		</ul>
	</div>

	<div id="main_content">
		<div id="header">

		<% if current_page?(root_path)%>
			<p>All Posts</p> |
		<% elsif current_page?(about_path)%>
			<p>About</p>
		<% else %>
		<%= link_to "Back to All Posts", root_path, class: "icon-arrow-left" %>
		<% end %>

		<div class="buttons">
		<% if !user_signed_in? %>
			<% if current_page?(root_path)%>
			<%= link_to "Login", new_user_session_path, class: "button" %>
			<% end %>
			<%= link_to "Sign up", new_user_registration_path, class: "button" %>
		<% end %>
		</div>


		<% if user_signed_in? %>
		Logged in as <%= current_user.email %>.
			<div class="buttons">

				<% if can? :update, @user %>
					| <%= link_to "Admin", admin_root_path %>
				<% end %>

				<%= link_to 'New Post', new_article_path, class: "button" %>
				<%= link_to "Log Out", destroy_user_session_path, :method => :delete, class: "button" %>
			</div>
		<% end %>
		</div>
		<% flash.each do|name, msg| %>
		<%= content_tag(:div, msg, class: "alert") %>
		<% end %>
	<%= yield %>
</div>
	<%= javascript_include_tag :defaults %>
	<p><%= notice %></p>
<p><%= alert %></p>
</body>

</html>